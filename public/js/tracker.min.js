window.simpleTrack=function(){"use strict";function e(e){var t="";return t=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"Desktop",t}function t(e,t,n){e.addEventListener(t,n,!0)}function n(e){const t=document.createElement("a");return t.href=e,t.host!==window.location.host}function o(e){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(e)?e:new URL(e,d.baseURI).href}function i(){for(var e=[],t=document.getElementsByTagName("a"),i=0;i<t.length;i++)e.push({url:o(t[i].href),isExternal:n(o(t[i].href)),time:Math.floor(Date.now()/1e3)});return e}function r(){var e=u.userAgent,t=u.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],o=["Win32","Win64","Windows","WinCE"],i=["iPhone","iPad","iPod"],r="Unknown";return r=-1!==n.indexOf(t)?"Mac OS":-1!==i.indexOf(t)?"iOS":-1!==o.indexOf(t)?"Windows":/Android/.test(e)?"Android":!r&&/Linux/.test(t)?"Linux":"Unknown",r}function e(e){var t=[];return t.push({deviceWidth:e.width||null,deviceHeight:e.height||null,deviceColorDepth:e.colorDepth||null}),t}function a(e,t){var n=s.XMLHttpRequest?new s.XMLHttpRequest:s.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;n.open("POST",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(JSON.stringify(t)),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&console.log(n.responseText)}}function c(t,n){h={},h.id=t,h.url=s.location.href,h.title=d.title,h.domain=d.domain,h.charSet=d.characterSet||d.charset,h.device=e(f),h.userAgent=u.userAgent,h.referrer=d.referrer||"",h.operatingSystem=r(),h.timeTakenToLoad=parseFloat(s.performance.now()),h.internalLinks=i(),h.lastModified=d.lastModified,h.time=Math.floor(Date.now()/1e3),a(m,h),n&&"function"==typeof n&&n()}var l={},d=document,s=window,u=s.navigator,f=screen,h={},p=s.location.protocol+"//"+s.location.hostname+(s.location.port?":"+s.location.port:""),m=p+"/api/tracker";return l.onTrack=function(i,a,l){if(void 0!==a&&a.trackLink)for(var u=document.getElementsByTagName("a"),p=0;p<u.length;p++)u[p].onclick=function(){h={},h.clickedURL=[{id:i,url:o(this.href),isExternal:n(o(this.href)),device:e(f),referrer:d.referrer||"",operatingSystem:r(),time:Math.floor(Date.now()/1e3)}],console.log(h)};t(s,"DOMContentLoaded",c(i,l,a))},l.createEvent=function(e,n,o){[...document.querySelectorAll(e)].forEach(function(e){t(e,n,function(){console.log(o)})})},l}();