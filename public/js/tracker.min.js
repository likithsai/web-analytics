var simpleTrack=window.simpleTrack?window.simpleTrack:{};simpleTrack=function(){"use strict";function e(){var e="";try{e=h.top.document.referrer}catch(n){if(h.parent)try{e=h.parent.document.referrer}catch(n){e=""}}return""===e&&(e=s.referrer),e}function n(e){var n="";return n=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"Desktop",n}function t(e,n,t){return e.addEventListener?(e.addEventListener(n,t,!1),!0):e.attachEvent?e.attachEvent("on"+n,t):void(e["on"+eventType]=eventHandler)}function r(e){const n=document.createElement("a");return n.href=e,n.host!==window.location.host}function o(e){var n=new RegExp("^(?:[a-z]+:)?//","i");return n.test(e)?e:new URL(e,s.baseURI).href}function i(){for(var e=[],n=document.getElementsByTagName("a"),t=0;t<n.length;t++)e.push({url:o(n[t].href),isExternal:r(o(n[t].href)),time:Math.floor(Date.now()/1e3)});return e}function a(){var e=m.userAgent,n=m.platform,t=["Macintosh","MacIntel","MacPPC","Mac68K"],r=["Win32","Win64","Windows","WinCE"],o=["iPhone","iPad","iPod"],i="Unknown";return i=-1!==t.indexOf(n)?"Mac OS":-1!==o.indexOf(n)?"iOS":-1!==r.indexOf(n)?"Windows":/Android/.test(e)?"Android":!i&&/Linux/.test(n)?"Linux":"Unknown",i}function c(e){var t=[];return t.push({deviceType:n(m.userAgent),deviceOperatingSystem:a(),deviceResolution:parseInt(e.width,10)+"X"+parseInt(e.height,10),deviceColorDepth:e.colorDepth||null}),t}function d(){return"object"==typeof h.performance.timing&&h.performance.timing?h.performance.timing:void 0}function l(n,t){v={},v.id=n,v.eventType="Loaded",v.url=h.location.href,v.title=s.title,v.domain=s.domain,v.charSet=s.characterSet||s.charset,v.device=c(p),v.userAgent=m.userAgent,v.referrer=e(),v.timing=d(),v.internalLinks=i(),v.lastModified=s.lastModified,v.time=Math.floor(Date.now()/1e3),f.push(v),t&&"function"==typeof t&&t()}var u={},f=[],s=document,h=window,m=h.navigator,p=screen,v={};h.location.protocol,h.location.hostname,h.location.port&&h.location.port;return u.onTrack=function(e,n,i){if(void 0!==n&&n.trackLink)for(var a=document.getElementsByTagName("a"),u=0;u<a.length;u++)a[u].onclick=function(){v={},v.id=e,v.eventType=h.event.type,v.url=o(this.href),v.isExternal=r(o(this.href)),v.domain=s.domain,v.device=c(p),v.userAgent=m.userAgent,v.referrer=s.referrer||"",v.timing=d(),v.time=Math.floor(Date.now()/1e3),f.push(v)};t(h,"DOMContentLoaded",l(e,i,n)),t(h,"focus",function(e){console.log(f)})},u.createEvent=function(e,n,r){[...document.querySelectorAll(e)].forEach(function(e){t(e,n,function(){console.log(r)})})},u}();