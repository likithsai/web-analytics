var simpleTrack=window.simpleTrack?window.simpleTrack:{};simpleTrack=function(){"use strict";function e(){var e="";try{e=m.top.document.referrer}catch(t){if(m.parent)try{e=m.parent.document.referrer}catch(t){e=""}}return""===e&&(e=h.referrer),e}function t(e,t){var n=typeof console;if("undefined"!==n&&console)switch(e.toLowerCase()){case"error":console.error(t);break;case"warn":console.warn(t);break;default:console.log(t)}}function n(e){var t="";return t=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"Desktop",t}function r(e,t,n){return e.addEventListener?(e.addEventListener(t,n),!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function o(e){const t=document.createElement("a");return t.href=e,t.host!==window.location.host}function i(e){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(e)?e:new URL(e,h.baseURI).href}function a(){for(var e=[],t=document.getElementsByTagName("a"),n=0;n<t.length;n++)e.push({url:i(t[n].href),isExternal:o(i(t[n].href)),time:Math.floor(Date.now()/1e3)});return e}function c(){var e=v.userAgent,t=v.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],r=["Win32","Win64","Windows","WinCE"],o=["iPhone","iPad","iPod"],i="Unknown";return i=-1!==n.indexOf(t)?"Mac OS":-1!==o.indexOf(t)?"iOS":-1!==r.indexOf(t)?"Windows":/Android/.test(e)?"Android":!i&&/Linux/.test(t)?"Linux":"Unknown",i}function s(e){var t=[];return t.push({deviceType:n(v.userAgent),deviceOperatingSystem:c(),deviceResolution:parseInt(e.width,10)+"X"+parseInt(e.height,10),deviceColorDepth:e.colorDepth||null}),t}function d(e,t){var n=m.XMLHttpRequest?new m.XMLHttpRequest:m.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;n.open("POST",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.withCredentials=!0,n.send(JSON.stringify(t)),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(console.log(n.responseText),p=[])}}function l(){return"object"==typeof m.performance.timing&&m.performance.timing?m.performance.timing:void 0}function u(n,r){g={},g.eventType="Loaded",g.url=m.location.href,g.title=h.title,g.domain=h.domain,g.charSet=h.characterSet||h.charset,g.device=s(w),g.userAgent=v.userAgent,g.referrer=e(),g.timing=l(),g.internalLinks=a(),g.lastModified=h.lastModified,g.time=Math.floor(Date.now()/1e3),p.push({id:n,data:g}),setInterval(function(){p.length>0?d(y,p):t("warn","No data to display")},M),r&&"function"==typeof r&&r()}var f={},p=[],h=document,m=window,v=m.navigator,w=screen,g={},k=m.location.protocol+"//"+m.location.hostname+(m.location.port?":"+m.location.port:""),y=k+"/api/tracker",M=1e4;return f.onTrack=function(e,t,n){if(void 0!==t){if(t.trackLink)for(var a=document.getElementsByTagName("a"),c=0;c<a.length;c++)a[c].onclick=function(){g={},g.eventType=m.event.type,g.url=i(this.href),g.isExternal=o(i(this.href)),g.domain=h.domain,g.device=s(w),g.userAgent=v.userAgent,g.referrer=h.referrer||"",g.timing=l(),g.time=Math.floor(Date.now()/1e3),p.push({id:e,data:g})};t.trackForm}r(m,"DOMContentLoaded",u(e,n,t))},f.createEvent=function(e,t,n){[...document.querySelectorAll(e)].forEach(function(e){r(e,t,function(){console.log(n)})})},f}();