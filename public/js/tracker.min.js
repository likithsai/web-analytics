var simpleTrack=window.simpleTrack?window.simpleTrack:{};simpleTrack=function(){"use strict";function e(){var e="";try{e=u.top.document.referrer}catch(t){if(u.parent)try{e=u.parent.document.referrer}catch(t){e=""}}return""===e&&(e=f.referrer),e}function t(e){var t=typeof console;"undefined"!==t&&console&&console.error&&console.warn(e)}function n(e){var t="";return t=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"Desktop",t}function o(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+eventType]=eventHandler)}function r(e){const t=document.createElement("a");return t.href=e,t.host!==window.location.host}function i(e){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(e)?e:new URL(e,f.baseURI).href}function a(){for(var e=[],t=document.getElementsByTagName("a"),n=0;n<t.length;n++)e.push({url:i(t[n].href),isExternal:r(i(t[n].href)),time:Math.floor(Date.now()/1e3)});return e}function c(){var e=h.userAgent,t=h.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],o=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"],i="Unknown";return i=-1!==n.indexOf(t)?"Mac OS":-1!==r.indexOf(t)?"iOS":-1!==o.indexOf(t)?"Windows":/Android/.test(e)?"Android":!i&&/Linux/.test(t)?"Linux":"Unknown",i}function n(e){var t=[];return t.push({deviceWidth:e.width||null,deviceHeight:e.height||null,deviceColorDepth:e.colorDepth||null}),t}function l(e,t){var n=u.XMLHttpRequest?new u.XMLHttpRequest:u.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;n.open("POST",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(JSON.stringify(t)),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&console.log(n.responseText)}}function d(t,o){m={},m.id=t,m.url=u.location.href,m.title=f.title,m.domain=f.domain,m.charSet=f.characterSet||f.charset,m.device=n(p),m.userAgent=h.userAgent,m.referrer=e(),m.operatingSystem=c(),m.timeTakenToLoad=parseFloat(u.performance.now()||u.performance.mozNow()||u.performance.msNow()||u.performance.oNow()||u.performance.webkitNow()),m.internalLinks=a(),m.lastModified=f.lastModified,m.time=Math.floor(Date.now()/1e3),l(v,m),o&&"function"==typeof o&&o()}var s={},f=document,u=window,h=u.navigator,p=screen,m={},w=u.location.protocol+"//"+u.location.hostname+(u.location.port?":"+u.location.port:""),v=w+"/api/tracker";return s.onTrack=function(e,a,l){if(void 0!==a&&a.trackLink)for(var s=document.getElementsByTagName("a"),h=0;h<s.length;h++)s[h].onclick=function(){m={},m.clickedURL=[{id:e,url:i(this.href),isExternal:r(i(this.href)),device:n(p),referrer:f.referrer||"",operatingSystem:c(),time:Math.floor(Date.now()/1e3)}],console.log(m)};o(u,"DOMContentLoaded",d(e,l,a)),o(u,"focus",function(){t("focused")})},s.createEvent=function(e,t,n){[...document.querySelectorAll(e)].forEach(function(e){o(e,t,function(){console.log(n)})})},s}();